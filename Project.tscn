[gd_scene load_steps=40 format=2]

[ext_resource path="res://img/tileset.png" type="Texture" id=1]
[ext_resource path="res://shaders/CircleTransition.shader" type="Shader" id=2]
[ext_resource path="res://GameObjects/Enemies/Rat/Rat.tscn" type="PackedScene" id=3]
[ext_resource path="res://img/table.png" type="Texture" id=4]
[ext_resource path="res://GameObjects/Trap.tscn" type="PackedScene" id=5]
[ext_resource path="res://GameObjects/UI/AmmoCounter.tscn" type="PackedScene" id=6]
[ext_resource path="res://GameObjects/WalkingAreas/Stone/Stone.tscn" type="PackedScene" id=7]
[ext_resource path="res://GameObjects/Grabbable/Branch.tscn" type="PackedScene" id=8]
[ext_resource path="res://GUI.gd" type="Script" id=9]
[ext_resource path="res://GameObjects/Grass/Grass.tscn" type="PackedScene" id=10]
[ext_resource path="res://GameObjects/WalkingAreas/Wood/Wood.tscn" type="PackedScene" id=11]
[ext_resource path="res://Player.tscn" type="PackedScene" id=15]
[ext_resource path="res://Crosshair.tscn" type="PackedScene" id=18]
[ext_resource path="res://Global.gd" type="Script" id=19]
[ext_resource path="res://Text.tscn" type="PackedScene" id=24]
[ext_resource path="res://Bonfire.tscn" type="PackedScene" id=26]
[ext_resource path="res://Tree.tscn" type="PackedScene" id=27]
[ext_resource path="res://Trigger.tscn" type="PackedScene" id=28]
[ext_resource path="res://CutsceneTrigger.gd" type="Script" id=29]
[ext_resource path="res://Grid.gd" type="Script" id=33]
[ext_resource path="res://Pathfinder.gd" type="Script" id=34]
[ext_resource path="res://GameObjects/Door.tscn" type="PackedScene" id=36]
[ext_resource path="res://Level1.tscn" type="PackedScene" id=37]

[sub_resource type="Environment" id=34]
background_mode = 4
fog_enabled = true
auto_exposure_min_luma = 2.1
auto_exposure_max_luma = 2.5
auto_exposure_speed = 11.57
ssao_radius = 37.54
ssao_intensity = 64.52
ssao_edge_sharpness = 7.37
dof_blur_far_distance = 0.15
glow_intensity = 8.0
glow_strength = 0.79
glow_bloom = 0.02
glow_hdr_threshold = 0.16
glow_hdr_luminance_cap = 3.85
glow_hdr_scale = 0.8
adjustment_enabled = true

[sub_resource type="Shader" id=28]
code = "shader_type canvas_item;
render_mode unshaded;

uniform int iterations = 20;
uniform float formuparam = 1.00;

uniform int volsteps = 20;
uniform float stepsize = 0.1;

uniform float zoom = 0.800;
uniform float tile = 0.5;
uniform float speed = 0.001;

uniform float brightness = 0.002;
uniform float darkmatter = 0.100;
uniform float distfading = 0.650;
uniform float saturation = 0.750;

uniform vec2 iResolution = vec2(192, 192);
uniform vec2 iMouse = vec2(0,0);

float SCurve (float value) {

    if (value < 0.5)
    {
        return value * value * value * value * value * 16.0; 
    }
    
    value -= 1.0;
    
    return value * value * value * value * value * 16.0 + 1.0;
}

void fragment()
{
	//get coords and direction
	vec2 uv=FRAGCOORD.xy/iResolution.xy-.5;
	uv.y*=iResolution.y/iResolution.x;
	vec3 dir=vec3(uv*zoom,1.);
	float time=TIME*speed+.25;

	//mouse rotation
	float a1=0.5+iMouse.x/iResolution.x*2.;
	float a2=0.8+iMouse.y/iResolution.y*2.;
	mat2 rot1=mat2(vec2(cos(a1),sin(a1)),vec2(-sin(a1),cos(a1)));
	mat2 rot2=mat2(vec2(cos(a2),sin(a2)),vec2(-sin(a2),cos(a2)));
	dir.xy*=rot1;
	dir.xz*=rot2;
	vec3 from=vec3(1.0,0.5,0.5);
	from-=vec3(0.0,time,0.0);
	from.xz*=rot1;
	from.xy*=rot2;
	
	//volumetric rendering
	float s=0.1,fade=1.;
	vec3 v=vec3(0.);
	for (int r=0; r<volsteps; r++) {
		vec3 p=from+s*dir*0.5;
		p = abs(vec3(tile)-mod(p,vec3(tile*2.))); // tiling fold
		float pa,a=pa=0.;
		for (int i=0; i<iterations; i++) { 
			p=abs(p)/dot(p,p)-formuparam; // the magic formula
			a+=abs(length(p)-pa); // absolute sum of average change
			pa=length(p);
		}
		float dm=max(0.,darkmatter-a*a*.001); //dark matter
		a = pow(a, 2.3); // add contrast
		if (r>6) fade*=1.-dm; // dark matter, don't render near
		//v+=vec3(dm,dm*.5,0.);
		v+=fade;
		v+=vec3(s,s*s,s*s*s*s)*a*brightness*fade; // coloring based on distance
		fade*=distfading; // distance fading
		s+=stepsize;
	}
    
	v=mix(vec3(length(v)),v,saturation); //color adjust
    
    vec4 C = vec4(v*.01,1.);
    
     	C.r = pow(C.r, 0.35); 
 	 	C.g = pow(C.g, 0.36); 
 	 	C.b = pow(C.b, 0.38); 
 	
    vec4 L = C;   	
    
    COLOR.r = mix(L.r, SCurve(C.r), 0.7); 
    COLOR.g = mix(L.g, SCurve(C.g), 1.0); 
    COLOR.b = mix(L.b, SCurve(C.b), 0.2);     	
	
}"

[sub_resource type="ShaderMaterial" id=9]
shader = SubResource( 28 )
shader_param/iterations = 20
shader_param/formuparam = 1.0
shader_param/volsteps = 20
shader_param/stepsize = 0.1
shader_param/zoom = 0.8
shader_param/tile = 0.5
shader_param/speed = 0.001
shader_param/brightness = 0.002
shader_param/darkmatter = 0.1
shader_param/distfading = 0.65
shader_param/saturation = 0.75
shader_param/iResolution = Vector2( 192, 192 )
shader_param/iMouse = Vector2( 0, 0 )

[sub_resource type="ShaderMaterial" id=29]
shader = ExtResource( 2 )
shader_param/circle_size = 1.05
shader_param/screen_width = 680.0
shader_param/screen_height = 414.0

[sub_resource type="ConvexPolygonShape2D" id=24]
points = PoolVector2Array( 26, 26, 0, 26, 0, 0, 26, 0 )

[sub_resource type="ConvexPolygonShape2D" id=33]
points = PoolVector2Array( 26, 26, 0, 26, 0, 0, 26, 0 )

[sub_resource type="ConvexPolygonShape2D" id=26]
points = PoolVector2Array( 26, 26, 0, 26, 0, 0, 26, 0 )

[sub_resource type="ConvexPolygonShape2D" id=27]
points = PoolVector2Array( 23.0641, 49.7339, 3.30508, 49.7339, 3.30508, 35.3333, 23.0641, 35.3333 )

[sub_resource type="TileSet" id=1]
resource_local_to_scene = true
0/name = "grass"
0/texture = ExtResource( 1 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 0, 0, 26, 26 )
0/tile_mode = 0
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape_one_way = false
0/shape_one_way_margin = 0.0
0/shapes = [  ]
0/z_index = 0
1/name = "tileset.png 1"
1/texture = ExtResource( 1 )
1/tex_offset = Vector2( 0, 0 )
1/modulate = Color( 1, 1, 1, 1 )
1/region = Rect2( 0, 26, 26, 26 )
1/tile_mode = 0
1/occluder_offset = Vector2( 0, 0 )
1/navigation_offset = Vector2( 0, 0 )
1/shape_offset = Vector2( 0, 0 )
1/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
1/shape_one_way = false
1/shape_one_way_margin = 0.0
1/shapes = [  ]
1/z_index = 0
2/name = "tileset.png 2"
2/texture = ExtResource( 1 )
2/tex_offset = Vector2( 0, 0 )
2/modulate = Color( 1, 1, 1, 1 )
2/region = Rect2( 0, 52, 26, 26 )
2/tile_mode = 0
2/occluder_offset = Vector2( 0, 0 )
2/navigation_offset = Vector2( 0, 0 )
2/shape_offset = Vector2( 0, 0 )
2/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
2/shape_one_way = false
2/shape_one_way_margin = 0.0
2/shapes = [  ]
2/z_index = 0
3/name = "tileset.png 3"
3/texture = ExtResource( 1 )
3/tex_offset = Vector2( 0, 0 )
3/modulate = Color( 1, 1, 1, 1 )
3/region = Rect2( 0, 78, 26, 52 )
3/tile_mode = 0
3/occluder_offset = Vector2( 0, 0 )
3/navigation_offset = Vector2( 0, 0 )
3/shape_offset = Vector2( 0, 0 )
3/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
3/shape_one_way = false
3/shape_one_way_margin = 0.0
3/shapes = [  ]
3/z_index = 0
4/name = "wall"
4/texture = ExtResource( 1 )
4/tex_offset = Vector2( 0, 0 )
4/modulate = Color( 1, 1, 1, 1 )
4/region = Rect2( 26, 26, 26, 26 )
4/tile_mode = 0
4/occluder_offset = Vector2( 0, 0 )
4/navigation_offset = Vector2( 0, 0 )
4/shape_offset = Vector2( 0, 0 )
4/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
4/shape = SubResource( 26 )
4/shape_one_way = false
4/shape_one_way_margin = 1.0
4/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 26 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
4/z_index = 0
6/name = "tileset.png 6"
6/texture = ExtResource( 1 )
6/tex_offset = Vector2( 0, 0 )
6/modulate = Color( 1, 1, 1, 1 )
6/region = Rect2( 52, 0, 26, 26 )
6/tile_mode = 0
6/occluder_offset = Vector2( 0, 0 )
6/navigation_offset = Vector2( 0, 0 )
6/shape_offset = Vector2( 0, 0 )
6/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
6/shape_one_way = false
6/shape_one_way_margin = 0.0
6/shapes = [  ]
6/z_index = 0
7/name = "tileset.png 7"
7/texture = ExtResource( 1 )
7/tex_offset = Vector2( 0, 0 )
7/modulate = Color( 1, 1, 1, 1 )
7/region = Rect2( 78, 0, 26, 26 )
7/tile_mode = 0
7/occluder_offset = Vector2( 0, 0 )
7/navigation_offset = Vector2( 0, 0 )
7/shape_offset = Vector2( 0, 0 )
7/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
7/shape_one_way = false
7/shape_one_way_margin = 0.0
7/shapes = [  ]
7/z_index = 0
8/name = "tileset.png 8"
8/texture = ExtResource( 1 )
8/tex_offset = Vector2( 0, 0 )
8/modulate = Color( 1, 1, 1, 1 )
8/region = Rect2( 52, 26, 26, 52 )
8/tile_mode = 0
8/occluder_offset = Vector2( 0, 0 )
8/navigation_offset = Vector2( 0, 0 )
8/shape_offset = Vector2( 0, 0 )
8/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
8/shape = SubResource( 27 )
8/shape_one_way = false
8/shape_one_way_margin = 1.0
8/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 27 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
8/z_index = 0
9/name = "tileset.png 9"
9/texture = ExtResource( 1 )
9/tex_offset = Vector2( 0, 0 )
9/modulate = Color( 1, 1, 1, 1 )
9/region = Rect2( 52, 26, 26, 52 )
9/tile_mode = 1
9/autotile/bitmask_mode = 0
9/autotile/bitmask_flags = [  ]
9/autotile/icon_coordinate = Vector2( 0, 0 )
9/autotile/tile_size = Vector2( 26, 26 )
9/autotile/spacing = 0
9/autotile/occluder_map = [  ]
9/autotile/navpoly_map = [  ]
9/autotile/priority_map = [  ]
9/autotile/z_index_map = [  ]
9/occluder_offset = Vector2( 0, 0 )
9/navigation_offset = Vector2( 0, 0 )
9/shape_offset = Vector2( 0, 0 )
9/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
9/shape_one_way = false
9/shape_one_way_margin = 0.0
9/shapes = [  ]
9/z_index = 0
10/name = "hole"
10/texture = ExtResource( 1 )
10/tex_offset = Vector2( 0, 0 )
10/modulate = Color( 1, 1, 1, 1 )
10/region = Rect2( 104, 0, 26, 26 )
10/tile_mode = 0
10/occluder_offset = Vector2( 0, 0 )
10/navigation_offset = Vector2( 0, 0 )
10/shape_offset = Vector2( 0, 0 )
10/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
10/shape = SubResource( 24 )
10/shape_one_way = false
10/shape_one_way_margin = 1.0
10/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 24 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
10/z_index = 0
11/name = "grass2"
11/texture = ExtResource( 1 )
11/tex_offset = Vector2( 0, 0 )
11/modulate = Color( 1, 1, 1, 1 )
11/region = Rect2( 26, 0, 26, 26 )
11/tile_mode = 0
11/occluder_offset = Vector2( 0, 0 )
11/navigation_offset = Vector2( 0, 0 )
11/shape_offset = Vector2( 0, 0 )
11/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
11/shape_one_way = false
11/shape_one_way_margin = 0.0
11/shapes = [  ]
11/z_index = 0
12/name = "tileset.png 12"
12/texture = ExtResource( 1 )
12/tex_offset = Vector2( 0, 0 )
12/modulate = Color( 1, 1, 1, 1 )
12/region = Rect2( 130, 26, 26, 26 )
12/tile_mode = 0
12/occluder_offset = Vector2( 0, 0 )
12/navigation_offset = Vector2( 0, 0 )
12/shape_offset = Vector2( 0, 0 )
12/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
12/shape = SubResource( 33 )
12/shape_one_way = false
12/shape_one_way_margin = 1.0
12/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 33 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
12/z_index = 0

[sub_resource type="RectangleShape2D" id=5]
extents = Vector2( 20, 5.5 )

[sub_resource type="Animation" id=16]
resource_name = "Cutscene1"
length = 2.0

[sub_resource type="Animation" id=17]
length = 0.001

[sub_resource type="RectangleShape2D" id=15]
extents = Vector2( 25, 45 )

[sub_resource type="Animation" id=30]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("ForegroundLayer/Foreground:material:shader_param/circle_size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ 1.05 ]
}

[sub_resource type="Animation" id=31]
resource_name = "SCENE_TRANSITION_IN"
length = 0.9
tracks/0/type = "value"
tracks/0/path = NodePath("ForegroundLayer/Foreground:material:shader_param/circle_size")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.9 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 1.05, 1.05, 0.0 ]
}

[sub_resource type="Animation" id=32]
resource_name = "SCENE_TRANSITION_OUT"
length = 0.9
tracks/0/type = "value"
tracks/0/path = NodePath("ForegroundLayer/Foreground:material:shader_param/circle_size")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.1, 0.9 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ 0.0, 0.0, 1.05 ]
}

[node name="World" type="Node2D"]
script = ExtResource( 19 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 34 )

[node name="BackgroundLayer" type="CanvasLayer" parent="."]
layer = -1

[node name="Background" type="ColorRect" parent="BackgroundLayer"]
visible = false
show_behind_parent = true
material = SubResource( 9 )
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -512.0
margin_top = -288.0
margin_right = 516.0
margin_bottom = 288.0

[node name="ForegroundLayer" type="CanvasLayer" parent="."]
scale = Vector2( 2.15, 2.15 )
transform = Transform2D( 2.15, 0, 0, 2.15, 0, 0 )

[node name="Foreground" type="ColorRect" parent="ForegroundLayer"]
material = SubResource( 29 )
margin_right = 478.0
margin_bottom = 268.0
color = Color( 0, 0, 0, 1 )

[node name="CanvasLayer" type="CanvasLayer" parent="ForegroundLayer"]
scale = Vector2( 4, 4 )
transform = Transform2D( 4, 0, 0, 4, 0, 0 )

[node name="FPS" parent="ForegroundLayer/CanvasLayer" instance=ExtResource( 24 )]
margin_left = -69.7674
margin_top = 4.18605
margin_right = 105.233
margin_bottom = 40.186
rect_pivot_offset = Vector2( 270.017, -141.186 )
custom_colors/default_color = Color( 0.219608, 0.8, 0.556863, 1 )
bbcode_text = "[center][color=#ffffff]fps[/color][/center]"
text = "fps"
content = "fps"
color = Color( 1, 1, 1, 1 )

[node name="AmmoCounter" parent="ForegroundLayer/CanvasLayer" instance=ExtResource( 6 )]
position = Vector2( 5, 14.75 )

[node name="GUI" type="Control" parent="ForegroundLayer"]
margin_left = 114.884
margin_top = 108.372
margin_right = 370.884
margin_bottom = 258.372
script = ExtResource( 9 )

[node name="HealthBarBg" type="ColorRect" parent="ForegroundLayer/GUI"]
margin_left = 42.0
margin_top = 137.0
margin_right = 214.0
margin_bottom = 144.0
rect_pivot_offset = Vector2( 86, 3 )
color = Color( 0.270588, 0.270588, 0.270588, 0.827451 )

[node name="HealthBar" type="ColorRect" parent="ForegroundLayer/GUI"]
margin_left = 42.0
margin_top = 137.0
margin_right = 214.0
margin_bottom = 144.0
color = Color( 0.654902, 0.054902, 0.054902, 1 )

[node name="Level" type="Node2D" parent="."]

[node name="TileMap" type="TileMap" parent="Level" groups=["Map"]]
tile_set = SubResource( 1 )
cell_size = Vector2( 26, 26 )
cell_quadrant_size = 13
show_collision = true
cell_clip_uv = true
collision_layer = 512
collision_mask = 0
format = 1
tile_data = PoolIntArray( -2555891, 10, 0, -2555890, 10, 0, -2555889, 10, 0, -2555888, 10, 0, -2555887, 10, 0, -2555886, 10, 0, -2555885, 10, 0, -2555884, 10, 0, -2555883, 10, 0, -2555882, 10, 0, -2555881, 10, 0, -2555880, 10, 0, -2555879, 10, 0, -2555878, 10, 0, -2555877, 10, 0, -2555876, 10, 0, -2555875, 10, 0, -2555874, 10, 0, -2555873, 10, 0, -2555872, 10, 0, -2555871, 10, 0, -2490356, 10, 0, -2490355, 10, 0, -2490354, 0, 0, -2490353, 0, 0, -2490352, 0, 0, -2490351, 0, 0, -2490350, 0, 0, -2490349, 0, 0, -2490348, 0, 0, -2490347, 0, 0, -2490346, 0, 0, -2490345, 0, 0, -2490344, 0, 0, -2490343, 0, 0, -2490342, 0, 0, -2490341, 0, 0, -2490340, 0, 0, -2490339, 0, 0, -2490338, 0, 0, -2490337, 0, 0, -2490336, 0, 0, -2490335, 10, 0, -2490334, 10, 0, -2490326, 10, 0, -2490325, 10, 0, -2490324, 10, 0, -2490323, 10, 0, -2490322, 10, 0, -2424820, 10, 0, -2424819, 0, 0, -2424818, 0, 0, -2424817, 0, 0, -2424816, 0, 0, -2424815, 0, 0, -2424814, 0, 0, -2424813, 0, 0, -2424812, 0, 0, -2424811, 0, 0, -2424810, 0, 0, -2424809, 0, 0, -2424808, 0, 0, -2424807, 0, 0, -2424806, 0, 0, -2424805, 0, 0, -2424804, 0, 0, -2424803, 0, 0, -2424802, 0, 0, -2424801, 0, 0, -2424800, 0, 0, -2424799, 0, 0, -2424798, 10, 0, -2424790, 10, 0, -2424789, 0, 0, -2424788, 0, 0, -2424787, 0, 0, -2424786, 10, 0, -2359284, 10, 0, -2359283, 0, 0, -2359282, 0, 0, -2359281, 0, 0, -2359280, 0, 0, -2359279, 0, 0, -2359278, 0, 0, -2359277, 0, 0, -2359276, 0, 0, -2359275, 0, 0, -2359274, 0, 0, -2359273, 0, 0, -2359272, 0, 0, -2359271, 0, 0, -2359270, 0, 0, -2359269, 0, 0, -2359268, 0, 0, -2359267, 0, 0, -2359266, 0, 0, -2359265, 0, 0, -2359264, 0, 0, -2359263, 0, 0, -2359262, 10, 0, -2359254, 10, 0, -2359253, 0, 0, -2359252, 0, 0, -2359251, 0, 0, -2359250, 10, 0, -2293748, 10, 0, -2293747, 0, 0, -2293746, 0, 0, -2293745, 0, 0, -2293744, 0, 0, -2293743, 0, 0, -2293742, 0, 0, -2293741, 0, 0, -2293740, 0, 0, -2293739, 0, 0, -2293738, 0, 0, -2293737, 0, 0, -2293736, 0, 0, -2293735, 0, 0, -2293734, 0, 0, -2293733, 0, 0, -2293732, 0, 0, -2293731, 0, 0, -2293730, 0, 0, -2293729, 0, 0, -2293728, 0, 0, -2293727, 0, 0, -2293726, 10, 0, -2293725, 10, 0, -2293724, 10, 0, -2293723, 10, 0, -2293722, 10, 0, -2293721, 10, 0, -2293720, 10, 0, -2293719, 10, 0, -2293718, 10, 0, -2293717, 0, 0, -2293716, 0, 0, -2293715, 0, 0, -2293714, 10, 0, -2228212, 10, 0, -2228211, 0, 0, -2228210, 0, 0, -2228209, 0, 0, -2228208, 0, 0, -2228207, 0, 0, -2228206, 0, 0, -2228205, 0, 0, -2228204, 0, 0, -2228203, 0, 0, -2228202, 0, 0, -2228201, 0, 0, -2228200, 0, 0, -2228199, 1073741824, 0, -2228198, 1073741824, 0, -2228197, 6, 0, -2228196, 1073741824, 0, -2228195, 0, 0, -2228194, 1073741824, 0, -2228193, 0, 0, -2228192, 0, 0, -2228191, 0, 0, -2228190, 10, 0, -2228189, 10, 0, -2228188, 10, 0, -2228187, 10, 0, -2228186, 10, 0, -2228185, 10, 0, -2228184, 10, 0, -2228183, 0, 0, -2228182, 0, 0, -2228181, 0, 0, -2228180, 0, 0, -2228179, 0, 0, -2228178, 10, 0, -2162683, 10, 0, -2162682, 10, 0, -2162681, 10, 0, -2162680, 10, 0, -2162676, 10, 0, -2162675, 0, 0, -2162674, 11, 0, -2162673, 0, 0, -2162672, 6, 0, -2162671, 0, 0, -2162670, 0, 0, -2162669, 0, 0, -2162668, 0, 0, -2162667, 0, 0, -2162666, 6, 0, -2162665, 10, 0, -2162664, 10, 0, -2162663, 10, 0, -2162662, 10, 0, -2162661, 10, 0, -2162660, 10, 0, -2162659, 10, 0, -2162658, 1073741824, 0, -2162657, 11, 0, -2162656, 7, 0, -2162655, 0, 0, -2162654, 3, 0, -2162653, 3, 0, -2162652, 3, 0, -2162651, 3, 0, -2162650, 3, 0, -2162649, 3, 0, -2162648, 3, 0, -2162647, 0, 0, -2162646, 0, 0, -2162645, 0, 0, -2162644, 0, 0, -2162643, 0, 0, -2162642, 10, 0, -2097147, 10, 0, -2097146, 0, 0, -2097145, 0, 0, -2097144, 10, 0, -2097140, 10, 0, -2097139, 0, 0, -2097138, 0, 0, -2097137, 7, 0, -2097136, 0, 0, -2097135, 0, 0, -2097134, 0, 0, -2097133, 0, 0, -2097132, 0, 0, -2097131, 0, 0, -2097130, 7, 0, -2097129, 10, 0, -2097128, 10, 0, -2097127, 10, 0, -2097126, 10, 0, -2097125, 10, 0, -2097124, 10, 0, -2097123, 10, 0, -2097122, 0, 0, -2097121, 0, 0, -2097120, 6, 0, -2097119, 0, 0, -2097111, 0, 0, -2097110, 0, 0, -2097109, 0, 0, -2097108, 0, 0, -2097107, 0, 0, -2097106, 10, 0, -1966084, 10, 0, -1966083, 10, 0, -1966082, 10, 0, -1966081, 10, 0, -2031616, 10, 0, -2031615, 10, 0, -2031614, 10, 0, -2031613, 10, 0, -2031612, 10, 0, -2031611, 10, 0, -2031610, 0, 0, -2031609, 0, 0, -2031608, 10, 0, -2031604, 10, 0, -2031603, 0, 0, -2031602, 0, 0, -2031601, 0, 0, -2031600, 0, 0, -2031599, 0, 0, -2031598, 0, 0, -2031597, 0, 0, -2031596, 0, 0, -2031595, 0, 0, -2031594, 0, 0, -2031593, 10, 0, -2031592, 10, 0, -2031591, 0, 0, -2031590, 0, 0, -2031589, 0, 0, -2031588, 10, 0, -2031587, 10, 0, -2031586, 0, 0, -2031585, 0, 0, -2031584, 0, 0, -2031583, 11, 0, -2031582, 10, 0, -2031581, 10, 0, -2031580, 10, 0, -2031579, 10, 0, -2031578, 10, 0, -2031577, 10, 0, -2031576, 10, 0, -2031575, 0, 0, -2031574, 0, 0, -2031573, 0, 0, -2031572, 0, 0, -2031571, 0, 0, -2031570, 10, 0, -1900548, 10, 0, -1900547, 6, 0, -1900546, 11, 0, -1900545, 0, 0, -1966080, 3, 0, -1966079, 3, 0, -1966078, 3, 0, -1966077, 0, 0, -1966076, 0, 0, -1966075, 11, 0, -1966074, 7, 0, -1966073, 7, 0, -1966072, 10, 0, -1966068, 10, 0, -1966067, 10, 0, -1966066, 10, 0, -1966065, 0, 0, -1966064, 0, 0, -1966063, 0, 0, -1966062, 10, 0, -1966061, 10, 0, -1966060, 10, 0, -1966059, 10, 0, -1966058, 10, 0, -1966057, 10, 0, -1966056, 10, 0, -1966055, 0, 0, -1966054, 0, 0, -1966053, 0, 0, -1966052, 10, 0, -1966051, 10, 0, -1966050, 1, 0, -1966049, 1, 0, -1966048, 10, 0, -1966047, 10, 0, -1966046, 10, 0, -1966045, 10, 0, -1966044, 10, 0, -1966043, 10, 0, -1966042, 10, 0, -1966041, 10, 0, -1966040, 10, 0, -1966039, 10, 0, -1966038, 10, 0, -1966037, 10, 0, -1966036, 10, 0, -1966035, 10, 0, -1966034, 10, 0, -1835012, 10, 0, -1835011, 0, 0, -1835010, 7, 0, -1835009, 11, 0, -1900541, 0, 0, -1900540, 11, 0, -1900539, 0, 0, -1900538, 6, 0, -1900537, 0, 0, -1900536, 10, 0, -1900533, 10, 0, -1900532, 10, 0, -1900531, 10, 0, -1900530, 10, 0, -1900529, 0, 0, -1900528, 11, 0, -1900527, 0, 0, -1900526, 10, 0, -1900525, 10, 0, -1900524, 10, 0, -1900523, 10, 0, -1900522, 10, 0, -1900521, 10, 0, -1900520, 10, 0, -1900519, 1, 0, -1900518, 1, 0, -1900517, 1, 0, -1900516, 10, 0, -1900515, 10, 0, -1900514, 1, 0, -1900513, 1, 0, -1900512, 10, 0, -1769476, 10, 0, -1769475, 10, 0, -1769474, 10, 0, -1769473, 10, 0, -1835008, 10, 0, -1835007, 10, 0, -1835006, 10, 0, -1835005, 10, 0, -1835004, 10, 0, -1835003, 10, 0, -1835002, 1, 0, -1835001, 1, 0, -1835000, 10, 0, -1834997, 10, 0, -1834996, 10, 0, -1834995, 10, 0, -1834994, 10, 0, -1834993, 0, 0, -1834992, 6, 0, -1834991, 0, 0, -1834990, 10, 0, -1834989, 10, 0, -1834988, 10, 0, -1834987, 10, 0, -1834986, 10, 0, -1834985, 10, 0, -1834984, 10, 0, -1834983, 1, 0, -1834982, 1, 0, -1834981, 1, 0, -1834980, 10, 0, -1834979, 10, 0, -1834978, 1, 0, -1834977, 1, 0, -1834976, 10, 0, -1834975, 10, 0, -1769467, 10, 0, -1769466, 1, 0, -1769465, 1, 0, -1769464, 10, 0, -1769461, 10, 0, -1769460, 0, 0, -1769459, 0, 0, -1769458, 0, 0, -1769457, 6, 0, -1769456, 7, 0, -1769455, 0, 0, -1769454, 0, 0, -1769453, 0, 0, -1769452, 0, 0, -1769451, 0, 0, -1769450, 0, 0, -1769449, 0, 0, -1769448, 0, 0, -1769447, 1073741824, 0, -1769446, 0, 0, -1769445, 0, 0, -1769444, 0, 0, -1769443, 11, 0, -1769442, 1073741824, 0, -1769441, 1073741824, 0, -1769440, 0, 0, -1769439, 10, 0, -1703931, 10, 0, -1703930, 1, 0, -1703929, 1, 0, -1703928, 10, 0, -1703925, 10, 0, -1703924, 0, 0, -1703923, 0, 0, -1703922, 0, 0, -1703921, 0, 0, -1703920, 0, 0, -1703919, 0, 0, -1703918, 0, 0, -1703917, 1073741824, 0, -1703916, 0, 0, -1703915, 0, 0, -1703914, 0, 0, -1703913, 0, 0, -1703912, 0, 0, -1703911, 6, 0, -1703910, 0, 0, -1703909, 0, 0, -1703908, 0, 0, -1703907, 6, 0, -1703906, 1073741824, 0, -1703905, 11, 0, -1703904, 0, 0, -1703903, 10, 0, -1638395, 10, 0, -1638394, 1, 0, -1638393, 1, 0, -1638392, 10, 0, -1638391, 10, 0, -1638390, 10, 0, -1638389, 10, 0, -1638388, 0, 0, -1638387, 0, 0, -1638386, 0, 0, -1638385, 0, 0, -1638384, 0, 0, -1638383, 0, 0, -1638382, 0, 0, -1638381, 0, 0, -1638380, 0, 0, -1638379, 0, 0, -1638378, 0, 0, -1638377, 0, 0, -1638376, 0, 0, -1638375, 0, 0, -1638374, 11, 0, -1638373, 0, 0, -1638372, 1073741824, 0, -1638371, 1073741824, 0, -1638370, 1073741824, 0, -1638369, 11, 0, -1638368, 0, 0, -1638367, 10, 0, -1572859, 10, 0, -1572858, 0, 0, -1572857, 11, 0, -1572856, 3, 0, -1572855, 3, 0, -1572854, 3, 0, -1572853, 3, 0, -1572852, 6, 0, -1572851, 6, 0, -1572850, 0, 0, -1572849, 0, 0, -1572848, 11, 0, -1572847, 0, 0, -1572846, 0, 0, -1572845, 0, 0, -1572844, 0, 0, -1572843, 0, 0, -1572842, 0, 0, -1572841, 0, 0, -1572840, 0, 0, -1572839, 0, 0, -1572838, 0, 0, -1572837, 0, 0, -1572836, 1073741824, 0, -1572835, 11, 0, -1572834, 1073741824, 0, -1572833, 1073741824, 0, -1572832, 0, 0, -1572831, 10, 0, -1507323, 10, 0, -1507322, 6, 0, -1507321, 0, 0, -1507316, 7, 0, -1507315, 0, 0, -1507314, 0, 0, -1507313, 0, 0, -1507312, 6, 0, -1507311, 0, 0, -1507310, 0, 0, -1507309, 0, 0, -1507308, 0, 0, -1507307, 0, 0, -1507306, 0, 0, -1507305, 0, 0, -1507304, 6, 0, -1507303, 7, 0, -1507302, 1073741824, 0, -1507301, 11, 0, -1507300, 0, 0, -1507299, 0, 0, -1507298, 0, 0, -1507297, 0, 0, -1507296, 0, 0, -1507295, 10, 0, -1441787, 10, 0, -1441786, 10, 0, -1441785, 10, 0, -1441784, 10, 0, -1441783, 10, 0, -1441782, 10, 0, -1441781, 10, 0, -1441780, 0, 0, -1441779, 0, 0, -1441778, 0, 0, -1441777, 0, 0, -1441776, 1073741824, 0, -1441775, 1073741824, 0, -1441774, 0, 0, -1441773, 0, 0, -1441772, 0, 0, -1441771, 0, 0, -1441770, 0, 0, -1441769, 0, 0, -1441768, 7, 0, -1441767, 1073741824, 0, -1441766, 1073741824, 0, -1441765, 0, 0, -1441764, 0, 0, -1441763, 11, 0, -1441762, 6, 0, -1441761, 0, 0, -1441760, 0, 0, -1441759, 10, 0, -1376251, 10, 0, -1376250, 10, 0, -1376249, 10, 0, -1376248, 10, 0, -1376247, 10, 0, -1376246, 10, 0, -1376245, 10, 0, -1376244, 0, 0, -1376243, 11, 0, -1376242, 0, 0, -1376241, 0, 0, -1376240, 1073741824, 0, -1376239, 11, 0, -1376238, 7, 0, -1376237, 0, 0, -1376236, 0, 0, -1376235, 0, 0, -1376234, 0, 0, -1376233, 1073741824, 0, -1376232, 1073741824, 0, -1376231, 1073741824, 0, -1376230, 1073741824, 0, -1376229, 11, 0, -1376228, 0, 0, -1376227, 0, 0, -1376226, 0, 0, -1376225, 0, 0, -1376224, 0, 0, -1376223, 10, 0, -1310709, 10, 0, -1310708, 0, 0, -1310707, 0, 0, -1310706, 0, 0, -1310705, 0, 0, -1310704, 0, 0, -1310703, 0, 0, -1310702, 0, 0, -1310701, 0, 0, -1310700, 0, 0, -1310699, 0, 0, -1310698, 0, 0, -1310697, 0, 0, -1310696, 0, 0, -1310695, 0, 0, -1310694, 0, 0, -1310693, 0, 0, -1310692, 0, 0, -1310691, 0, 0, -1310690, 0, 0, -1310689, 0, 0, -1310688, 0, 0, -1310687, 10, 0, -1245173, 10, 0, -1245172, 0, 0, -1245171, 0, 0, -1245170, 0, 0, -1245169, 0, 0, -1245168, 0, 0, -1245167, 0, 0, -1245166, 0, 0, -1245165, 0, 0, -1245164, 0, 0, -1245163, 0, 0, -1245162, 0, 0, -1245161, 0, 0, -1245160, 0, 0, -1245159, 0, 0, -1245158, 0, 0, -1245157, 0, 0, -1245156, 0, 0, -1245155, 0, 0, -1245154, 0, 0, -1245153, 0, 0, -1245152, 0, 0, -1245151, 10, 0, -1179637, 10, 0, -1179636, 10, 0, -1179635, 10, 0, -1179634, 10, 0, -1179633, 10, 0, -1179632, 10, 0, -1179631, 10, 0, -1179630, 10, 0, -1179629, 10, 0, -1179628, 10, 0, -1179627, 10, 0, -1179626, 10, 0, -1179625, 10, 0, -1179624, 10, 0, -1179623, 10, 0, -1179622, 10, 0, -1179621, 10, 0, -1179620, 10, 0, -1179619, 10, 0, -1179618, 10, 0, -1179617, 10, 0, -1179616, 10, 0, -1179615, 10, 0, -1114101, 10, 0, -1114100, 10, 0, -1114099, 10, 0, -1114098, 10, 0, -1114097, 10, 0, -1114096, 10, 0, -1114095, 10, 0, -1114094, 10, 0, -1114093, 10, 0, -1114092, 10, 0, -1114091, 10, 0, -1114090, 10, 0, -1114089, 10, 0, -1114088, 10, 0, -1114087, 10, 0, -1114086, 10, 0, -1114085, 10, 0, -1114084, 10, 0, -1114083, 10, 0, -1114082, 10, 0, -1114081, 10, 0, -1114080, 10, 0, -1114079, 10, 0 )

[node name="StoneArea" parent="Level" instance=ExtResource( 7 )]
position = Vector2( 325, -613 )
scale = Vector2( 0.454852, 0.419148 )

[node name="StoneArea2" parent="Level" instance=ExtResource( 7 )]
position = Vector2( 351, -612 )
scale = Vector2( 0.454852, 0.419148 )

[node name="StoneArea3" parent="Level" instance=ExtResource( 7 )]
position = Vector2( 325, -586 )
scale = Vector2( 0.494852, 0.539148 )

[node name="WoodArea" parent="Level" instance=ExtResource( 11 )]
position = Vector2( 260, -596 )
scale = Vector2( -2.5707, -1.13768 )

[node name="Pathfinder" type="Node2D" parent="Level"]
position = Vector2( 303, -1003 )
script = ExtResource( 34 )

[node name="Grid" type="Node2D" parent="Level/Pathfinder"]
visible = false
modulate = Color( 1, 1, 1, 0.517647 )
script = ExtResource( 33 )

[node name="YSort" type="YSort" parent="Level"]

[node name="Player" parent="Level/YSort" instance=ExtResource( 15 )]
position = Vector2( 528, -585 )

[node name="Table2" type="Sprite" parent="Level/YSort"]
visible = false
position = Vector2( -29, -945 )
texture = ExtResource( 4 )
offset = Vector2( 0, -7.177 )

[node name="StaticBody2D" type="StaticBody2D" parent="Level/YSort/Table2"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/YSort/Table2/StaticBody2D"]
position = Vector2( 0, -1.5 )
shape = SubResource( 5 )

[node name="Campfire" parent="Level/YSort" instance=ExtResource( 26 )]
visible = false
position = Vector2( 195, -751 )

[node name="Tree" parent="Level/YSort" instance=ExtResource( 27 )]
position = Vector2( 181, -812 )

[node name="Tree2" parent="Level/YSort" instance=ExtResource( 27 )]
position = Vector2( 333, -699 )

[node name="Tree11" parent="Level/YSort" instance=ExtResource( 27 )]
position = Vector2( 506, -879 )

[node name="Tree13" parent="Level/YSort" instance=ExtResource( 27 )]
position = Vector2( 528, -695 )

[node name="Tree14" parent="Level/YSort" instance=ExtResource( 27 )]
position = Vector2( 528, -504 )

[node name="Tree3" parent="Level/YSort" instance=ExtResource( 27 )]
position = Vector2( 736, -683 )

[node name="Tree9" parent="Level/YSort" instance=ExtResource( 27 )]
position = Vector2( 850, -504 )

[node name="Tree5" parent="Level/YSort" instance=ExtResource( 27 )]
position = Vector2( 686, -976 )

[node name="Tree8" parent="Level/YSort" instance=ExtResource( 27 )]
position = Vector2( 663, -792 )

[node name="Tree7" parent="Level/YSort" instance=ExtResource( 27 )]
position = Vector2( 1099, -860 )

[node name="Tree4" parent="Level/YSort" instance=ExtResource( 27 )]
position = Vector2( 377, -944 )

[node name="Door" parent="Level/YSort" instance=ExtResource( 36 )]
position = Vector2( 1157, -942 )
scene = ExtResource( 37 )

[node name="Trap3" parent="Level/YSort" instance=ExtResource( 5 )]
position = Vector2( 620, -686 )

[node name="Trap4" parent="Level/YSort" instance=ExtResource( 5 )]
position = Vector2( 343, -539 )

[node name="Trap5" parent="Level/YSort" instance=ExtResource( 5 )]
position = Vector2( 664, -552 )

[node name="Trap6" parent="Level/YSort" instance=ExtResource( 5 )]
position = Vector2( 834, -658 )

[node name="Branch" parent="Level/YSort" instance=ExtResource( 8 )]
position = Vector2( 328, -664 )

[node name="Branch2" parent="Level/YSort" instance=ExtResource( 8 )]
position = Vector2( 620, -630 )

[node name="Branch3" parent="Level/YSort" instance=ExtResource( 8 )]
position = Vector2( 480, -659 )

[node name="Rat" parent="Level/YSort" instance=ExtResource( 3 )]
position = Vector2( 455, -601 )

[node name="Grass" parent="Level/YSort" instance=ExtResource( 10 )]
position = Vector2( 393, -587 )
scale = Vector2( 0.84, 0.933424 )

[node name="Respawn" type="Position2D" parent="Level"]
position = Vector2( 388, -527 )

[node name="Crosshair" parent="." instance=ExtResource( 18 )]

[node name="Cutscenes" type="AnimationPlayer" parent="."]
anims/Cutscene1 = SubResource( 16 )
anims/RESET = SubResource( 17 )

[node name="CutsceneTrigger" parent="." instance=ExtResource( 28 )]
visible = false
position = Vector2( 223, -748 )
script = ExtResource( 29 )

[node name="CollisionShape2D" parent="CutsceneTrigger" index="0"]
position = Vector2( -14, -4 )
shape = SubResource( 15 )
disabled = true

[node name="GlobalAnimationPlayer" type="AnimationPlayer" parent="."]
anims/RESET = SubResource( 30 )
anims/SCENE_TRANSITION_IN = SubResource( 31 )
anims/SCENE_TRANSITION_OUT = SubResource( 32 )

[connection signal="shoot" from="Level/YSort/Player" to="ForegroundLayer/CanvasLayer/AmmoCounter" method="_on_Player_shoot"]
[connection signal="body_entered" from="CutsceneTrigger" to="CutsceneTrigger" method="_on_CutsceneTrigger_body_entered"]

[editable path="CutsceneTrigger"]
